{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Brice FRIGO/Desktop/tuto-react-qui-marche/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Brice FRIGO/Desktop/tuto-react-qui-marche/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{auth,provider}from\"../firebase-config.js\";import{signInWithPopup}from'firebase/auth';import Cookies from\"universal-cookie\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cookies=new Cookies();export var Auth=function Auth(props){var setIsAuth=props.setIsAuth;var signInWithGoogle=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return signInWithPopup(auth,provider);case 3:result=_context.sent;cookies.set(\"auth-token\",result.user.refreshToken);setIsAuth(true);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function signInWithGoogle(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"auth\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Se connecter avec Google pour continuer\"}),/*#__PURE__*/_jsx(\"button\",{onClick:signInWithGoogle,children:\"Connect\"})]});};","map":{"version":3,"names":["auth","provider","signInWithPopup","Cookies","cookies","Auth","props","setIsAuth","signInWithGoogle","result","set","user","refreshToken","console","log"],"sources":["C:/Users/Brice FRIGO/Desktop/tuto-react-qui-marche/src/components/Auth.js"],"sourcesContent":["import {auth, provider } from \"../firebase-config.js\";\r\nimport {signInWithPopup} from 'firebase/auth';\r\n\r\nimport Cookies from \"universal-cookie\";\r\nconst cookies = new Cookies();\r\n\r\nexport const Auth = (props) => {\r\n    const {setIsAuth} = props;\r\n        const signInWithGoogle = async () => {\r\n            try {\r\n                const result = await signInWithPopup(auth, provider);\r\n                cookies.set(\"auth-token\", result.user.refreshToken);\r\n                setIsAuth(true);\r\n            }catch(err){\r\n                console.log(err)\r\n            }\r\n\r\n        }\r\n    return <div className=\"auth\">\r\n        <p>Se connecter avec Google pour continuer</p>\r\n        <button onClick={signInWithGoogle}>Connect</button>\r\n    </div>;\r\n}"],"mappings":"gSAAA,OAAQA,IAAI,CAAEC,QAAQ,KAAQ,uBAAuB,CACrD,OAAQC,eAAe,KAAO,eAAe,CAE7C,MAAOC,QAAO,KAAM,kBAAkB,CAAC,wFACvC,GAAMC,QAAO,CAAG,GAAID,QAAO,EAAE,CAE7B,MAAO,IAAME,KAAI,CAAG,QAAPA,KAAI,CAAIC,KAAK,CAAK,CAC3B,GAAOC,UAAS,CAAID,KAAK,CAAlBC,SAAS,CACZ,GAAMC,iBAAgB,4FAAG,qLAEIN,gBAAe,CAACF,IAAI,CAAEC,QAAQ,CAAC,QAA9CQ,MAAM,eACZL,OAAO,CAACM,GAAG,CAAC,YAAY,CAAED,MAAM,CAACE,IAAI,CAACC,YAAY,CAAC,CACnDL,SAAS,CAAC,IAAI,CAAC,CAAC,+EAEhBM,OAAO,CAACC,GAAG,aAAK,oEAGvB,kBATKN,iBAAgB,0CASrB,CACL,mBAAO,aAAK,SAAS,CAAC,MAAM,wBACxB,mBAAG,yCAAuC,EAAI,cAC9C,eAAQ,OAAO,CAAEA,gBAAiB,UAAC,SAAO,EAAS,GACjD,CACV,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}