[{"C:\\Users\\Brice FRIGO\\Desktop\\tuto-react-qui-marche\\src\\index.js":"1","C:\\Users\\Brice FRIGO\\Desktop\\tuto-react-qui-marche\\src\\reportWebVitals.js":"2","C:\\Users\\Brice FRIGO\\Desktop\\tuto-react-qui-marche\\src\\App.js":"3","C:\\Users\\Brice FRIGO\\Desktop\\tuto-react-qui-marche\\src\\components\\Chat.js":"4","C:\\Users\\Brice FRIGO\\Desktop\\tuto-react-qui-marche\\src\\components\\Auth.js":"5","C:\\Users\\Brice FRIGO\\Desktop\\tuto-react-qui-marche\\src\\firebase-config.js":"6"},{"size":535,"mtime":1674633881630,"results":"7","hashOfConfig":"8"},{"size":362,"mtime":1674633881922,"results":"9","hashOfConfig":"8"},{"size":1791,"mtime":1674812981292,"results":"10","hashOfConfig":"8"},{"size":2088,"mtime":1674812325101,"results":"11","hashOfConfig":"8"},{"size":723,"mtime":1674633882006,"results":"12","hashOfConfig":"8"},{"size":879,"mtime":1674633881848,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","suppressedMessages":"16","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1nu7b6y",{"filePath":"17","messages":"18","suppressedMessages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","suppressedMessages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Brice FRIGO\\Desktop\\tuto-react-qui-marche\\src\\index.js",[],[],"C:\\Users\\Brice FRIGO\\Desktop\\tuto-react-qui-marche\\src\\reportWebVitals.js",[],[],"C:\\Users\\Brice FRIGO\\Desktop\\tuto-react-qui-marche\\src\\App.js",[],[],"C:\\Users\\Brice FRIGO\\Desktop\\tuto-react-qui-marche\\src\\components\\Chat.js",["33"],[],"import { useEffect, useState } from \"react\";\nimport { collection ,addDoc, serverTimestamp, onSnapshot, query, where } from '@firebase/firestore';\nimport { auth, db } from '../firebase-config';\nimport '../css/style.css'\n\nexport const Chat = (props) =>{\n\n    const {room} = props;\n    \n\n    const [messages, setMessages] = useState([]);\n    const [newMessage, setNewMessage] = useState(\"\");\n    const messagesRef = collection(db, \"messages\");\n\n    useEffect(() => {\n        const queryMessages = query(messagesRef, where(\"room\", \"==\", room));\n        const unsucribe = onSnapshot(queryMessages, (snapshot) => {\n            let messages = [];\n            snapshot.forEach((doc) => {\n                messages.push({...doc.data(), id: doc.id})\n            });\n            setMessages(messages)\n        });\n\n        return () => unsucribe();  \n    }, []);\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if(newMessage === \"\") return;\n\n        await addDoc(messagesRef, {\n            text: newMessage,\n            createAt: serverTimestamp(),\n            user: auth.currentUser.displayName,\n            room,\n        });\n\n        setNewMessage(\"\");\n    };\n\n    return( \n    \n    <div className=\"chat-app\">\n        <div className=\"important\">\n            <h1>{room}</h1>\n        </div>\n        <section className=\"text\">\n            <div className=\"messages\">\n                {messages.sort((a, b) => a.createAt?.seconds - b.createAt?.seconds).map((messages, i) => \n                <div className=\"message\">\n                    <span>{messages.user} : âž” {messages.text}</span> \n                </div>\n                )}\n            </div>\n        </section>\n\n        <form  onSubmit={handleSubmit} className=\"new-message-from\">\n            <input \n                className=\"new-message-input\"\n                placeholder=\"Votre message...\"\n                onChange={(e) => setNewMessage(e.target.value)}\n                value={newMessage}\n            />\n\n            <button type=\"submit\" className=\"send-button\">Envoyer</button>\n        </form>\n    </div>\n    )\n}","C:\\Users\\Brice FRIGO\\Desktop\\tuto-react-qui-marche\\src\\components\\Auth.js",[],[],"C:\\Users\\Brice FRIGO\\Desktop\\tuto-react-qui-marche\\src\\firebase-config.js",[],[],{"ruleId":"34","severity":1,"message":"35","line":26,"column":8,"nodeType":"36","endLine":26,"endColumn":10,"suggestions":"37"},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'messagesRef' and 'room'. Either include them or remove the dependency array.","ArrayExpression",["38"],{"desc":"39","fix":"40"},"Update the dependencies array to be: [messagesRef, room]",{"range":"41","text":"42"},[845,847],"[messagesRef, room]"]